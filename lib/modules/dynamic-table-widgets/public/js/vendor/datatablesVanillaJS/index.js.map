{"version":3,"file":"index.js","sources":["../src/helpers.js","../src/rows.js","../src/columns.js","../src/table.js","../src/config.js","../src/datatable.js"],"sourcesContent":["/**\r\n * Check is item is object\r\n * @return {Boolean}\r\n */\r\nexport const isObject = val => Object.prototype.toString.call(val) === \"[object Object]\"\r\n\r\n/**\r\n * Check is item is array\r\n * @return {Boolean}\r\n */\r\nexport const isArray = val => Array.isArray(val)\r\n\r\n/**\r\n * Check for valid JSON string\r\n * @param  {String}   str\r\n * @return {Boolean|Array|Object}\r\n */\r\nexport const isJson = str => {\r\n    let t = !1\r\n    try {\r\n        t = JSON.parse(str)\r\n    } catch (e) {\r\n        return !1\r\n    }\r\n    return !(null === t || (!isArray(t) && !isObject(t))) && t\r\n}\r\n\r\n/**\r\n * Merge objects (reccursive)\r\n * @param  {Object} r\r\n * @param  {Object} t\r\n * @return {Object}\r\n */\r\nexport const extend = (src, props) => {\r\n    for (const prop in props) {\r\n        if (props.hasOwnProperty(prop)) {\r\n            const val = props[prop]\r\n            if (val && isObject(val)) {\r\n                src[prop] = src[prop] || {}\r\n                extend(src[prop], val)\r\n            } else {\r\n                src[prop] = val\r\n            }\r\n        }\r\n    }\r\n    return src\r\n}\r\n\r\n/**\r\n * Iterator helper\r\n * @param  {(Array|Object)}   arr     Any object, array or array-like collection.\r\n * @param  {Function}         fn      Callback\r\n * @param  {Object}           scope   Change the value of this\r\n * @return {Void}\r\n */\r\nexport const each = (arr, fn, scope) => {\r\n    let n\r\n    if (isObject(arr)) {\r\n        for (n in arr) {\r\n            if (Object.prototype.hasOwnProperty.call(arr, n)) {\r\n                fn.call(scope, arr[n], n)\r\n            }\r\n        }\r\n    } else {\r\n        for (n = 0; n < arr.length; n++) {\r\n            fn.call(scope, arr[n], n)\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Add event listener to target\r\n * @param  {Object} el\r\n * @param  {String} e\r\n * @param  {Function} fn\r\n */\r\nexport const on = (el, e, fn) => {\r\n    el.addEventListener(e, fn, false)\r\n}\r\n\r\n/**\r\n * Create DOM element node\r\n * @param  {String}   a nodeName\r\n * @param  {Object}   b properties and attributes\r\n * @return {Object}\r\n */\r\nexport const createElement = (a, b) => {\r\n    const d = document.createElement(a)\r\n    if (b && \"object\" == typeof b) {\r\n        let e\r\n        for (e in b) {\r\n            if (\"html\" === e) {\r\n                d.innerHTML = b[e]\r\n            } else {\r\n                d.setAttribute(e, b[e])\r\n            }\r\n        }\r\n    }\r\n    return d\r\n}\r\n\r\nexport const flush = (el, ie) => {\r\n    if (el instanceof NodeList) {\r\n        each(el, e => {\r\n            flush(e, ie)\r\n        })\r\n    } else {\r\n        if (ie) {\r\n            while (el.hasChildNodes()) {\r\n                el.removeChild(el.firstChild)\r\n            }\r\n        } else {\r\n            el.innerHTML = \"\"\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Create button helper\r\n * @param  {String}   c\r\n * @param  {Number}   p\r\n * @param  {String}   t\r\n * @return {Object}\r\n */\r\nexport const button = (c, p, t) => createElement(\"li\", {\r\n    class: c,\r\n    html: `<a href=\"#\" data-page=\"${p}\">${t}</a>`\r\n})\r\n\r\n/**\r\n * classList shim\r\n * @type {Object}\r\n */\r\nexport const classList = {\r\n    add(s, a) {\r\n        if (s.classList) {\r\n            s.classList.add(a)\r\n        } else {\r\n            if (!classList.contains(s, a)) {\r\n                s.className = `${s.className.trim()} ${a}`\r\n            }\r\n        }\r\n    },\r\n    remove(s, a) {\r\n        if (s.classList) {\r\n            s.classList.remove(a)\r\n        } else {\r\n            if (classList.contains(s, a)) {\r\n                s.className = s.className.replace(\r\n                    new RegExp(`(^|\\\\s)${a.split(\" \").join(\"|\")}(\\\\s|$)`, \"gi\"),\r\n                    \" \"\r\n                )\r\n            }\r\n        }\r\n    },\r\n    contains(s, a) {\r\n        if (s)\r\n            return s.classList ?\r\n                s.classList.contains(a) :\r\n                !!s.className &&\r\n                !!s.className.match(new RegExp(`(\\\\s|^)${a}(\\\\s|$)`))\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * Bubble sort algorithm\r\n */\r\nexport const sortItems = (a, b) => {\r\n    let c\r\n    let d\r\n    if (1 === b) {\r\n        c = 0\r\n        d = a.length\r\n    } else {\r\n        if (b === -1) {\r\n            c = a.length - 1\r\n            d = -1\r\n        }\r\n    }\r\n    for (let e = !0; e;) {\r\n        e = !1\r\n        for (let f = c; f != d; f += b) {\r\n            if (a[f + b] && a[f].value > a[f + b].value) {\r\n                const g = a[f]\r\n                const h = a[f + b]\r\n                const i = g\r\n                a[f] = h\r\n                a[f + b] = i\r\n                e = !0\r\n            }\r\n        }\r\n    }\r\n    return a\r\n}\r\n\r\n/**\r\n * Pager truncation algorithm\r\n */\r\nexport const truncate = (a, b, c, d, ellipsis) => {\r\n    d = d || 2\r\n    let j\r\n    const e = 2 * d\r\n    let f = b - d\r\n    let g = b + d\r\n    const h = []\r\n    const i = []\r\n    if (b < 4 - d + e) {\r\n        g = 3 + e\r\n    } else if (b > c - (3 - d + e)) {\r\n        f = c - (2 + e)\r\n    }\r\n    for (let k = 1; k <= c; k++) {\r\n        if (1 == k || k == c || (k >= f && k <= g)) {\r\n            const l = a[k - 1]\r\n            classList.remove(l, \"active\")\r\n            h.push(l)\r\n        }\r\n    }\r\n    each(h, c => {\r\n        const d = c.children[0].getAttribute(\"data-page\")\r\n        if (j) {\r\n            const e = j.children[0].getAttribute(\"data-page\")\r\n            if (d - e == 2) i.push(a[e])\r\n            else if (d - e != 1) {\r\n                const f = createElement(\"li\", {\r\n                    class: \"ellipsis\",\r\n                    html: `<a href=\"#\">${ellipsis}</a>`\r\n                })\r\n                i.push(f)\r\n            }\r\n        }\r\n        i.push(c)\r\n        j = c\r\n    })\r\n\r\n    return i\r\n}\r\n","import {isArray, each, createElement} from \"./helpers\"\r\n/**\r\n * Rows API\r\n * @param {Object} instance DataTable instance\r\n * @param {Array} rows\r\n */\r\nexport class Rows {\r\n    constructor(dt, rows) {\r\n        this.dt = dt\r\n        this.rows = rows\r\n\r\n        return this\r\n    }\r\n\r\n    /**\r\n     * Build a new row\r\n     * @param  {Array} row\r\n     * @return {HTMLElement}\r\n     */\r\n    build(row) {\r\n        const tr = createElement(\"tr\")\r\n\r\n        let headings = this.dt.headings\r\n\r\n        if (!headings.length) {\r\n            headings = row.map(() => \"\")\r\n        }\r\n\r\n        each(headings, (h, i) => {\r\n            const td = createElement(\"td\")\r\n\r\n            // Fixes #29\r\n            if (!row[i] || !row[i].length) {\r\n                row[i] = \"\"\r\n            }\r\n\r\n            td.innerHTML = row[i]\r\n\r\n            td.data = row[i]\r\n\r\n            tr.appendChild(td)\r\n        })\r\n\r\n        return tr\r\n    }\r\n\r\n    render(row) {\r\n        return row\r\n    }\r\n\r\n    /**\r\n     * Add new row\r\n     * @param {Array} select\r\n     */\r\n    add(data) {\r\n        if (isArray(data)) {\r\n            const dt = this.dt\r\n            // Check for multiple rows\r\n            if (isArray(data[0])) {\r\n                each(data, function (row) {\r\n                    dt.data.push(this.build(row))\r\n                }, this)\r\n            } else {\r\n                dt.data.push(this.build(data))\r\n            }\r\n\r\n            // We may have added data to an empty table\r\n            if ( dt.data.length ) {\r\n                dt.hasRows = true\r\n            }\r\n\r\n\r\n            this.update()\r\n\r\n            dt.columns().rebuild()\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * Remove row(s)\r\n     * @param  {Array|Number} select\r\n     * @return {Void}\r\n     */\r\n    remove(select) {\r\n        const dt = this.dt\r\n\r\n        if (isArray(select)) {\r\n            // Remove in reverse otherwise the indexes will be incorrect\r\n            select.sort((a, b) => b - a)\r\n\r\n            each(select, row => {\r\n                dt.data.splice(row, 1)\r\n            })\r\n        } else {\r\n            dt.data.splice(select, 1)\r\n        }\r\n\r\n        // We may have emptied the table\r\n        if ( !dt.data.length ) {\r\n            dt.hasRows = false\r\n        }\r\n\r\n        this.update()\r\n        dt.columns().rebuild()\r\n    }\r\n\r\n    /**\r\n     * Update row indexes\r\n     * @return {Void}\r\n     */\r\n    update() {\r\n        each(this.dt.data, (row, i) => {\r\n            row.dataIndex = i\r\n        })\r\n    }\r\n}\r\n","import {isArray, each, classList, sortItems} from \"./helpers\"\r\n\r\n/**\r\n * Columns API\r\n * @param {Object} instance DataTable instance\r\n * @param {Mixed} columns  Column index or array of column indexes\r\n */\r\nexport class Columns {\r\n    constructor(dt) {\r\n        this.dt = dt\r\n        return this\r\n    }\r\n\r\n    /**\r\n     * Swap two columns\r\n     * @return {Void}\r\n     */\r\n    swap(columns) {\r\n        if (columns.length && columns.length === 2) {\r\n            const cols = []\r\n\r\n            // Get the current column indexes\r\n            each(this.dt.headings, (h, i) => {\r\n                cols.push(i)\r\n            })\r\n\r\n            const x = columns[0]\r\n            const y = columns[1]\r\n            const b = cols[y]\r\n            cols[y] = cols[x]\r\n            cols[x] = b\r\n\r\n            this.order(cols)\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Reorder the columns\r\n     * @return {Array} columns  Array of ordered column indexes\r\n     */\r\n    order(columns) {\r\n        let a\r\n        let b\r\n        let c\r\n        let d\r\n        let h\r\n        let s\r\n        let cell\r\n\r\n        const temp = [\r\n            [],\r\n            [],\r\n            [],\r\n            []\r\n        ]\r\n\r\n        const dt = this.dt\r\n\r\n        // Order the headings\r\n        each(columns, (column, x) => {\r\n            h = dt.headings[column]\r\n            s = h.getAttribute(\"data-sortable\") !== \"false\"\r\n            a = h.cloneNode(true)\r\n            a.originalCellIndex = x\r\n            a.sortable = s\r\n\r\n            temp[0].push(a)\r\n\r\n            if (!dt.hiddenColumns.includes(column)) {\r\n                b = h.cloneNode(true)\r\n                b.originalCellIndex = x\r\n                b.sortable = s\r\n\r\n                temp[1].push(b)\r\n            }\r\n        })\r\n\r\n        // Order the row cells\r\n        each(dt.data, (row, i) => {\r\n            c = row.cloneNode(false)\r\n            d = row.cloneNode(false)\r\n\r\n            c.dataIndex = d.dataIndex = i\r\n\r\n            if (row.searchIndex !== null && row.searchIndex !== undefined) {\r\n                c.searchIndex = d.searchIndex = row.searchIndex\r\n            }\r\n\r\n            // Append the cell to the fragment in the correct order\r\n            each(columns, column => {\r\n                cell = row.cells[column].cloneNode(true)\r\n                cell.data = row.cells[column].data\r\n                c.appendChild(cell)\r\n\r\n                if (!dt.hiddenColumns.includes(column)) {\r\n                    cell = row.cells[column].cloneNode(true)\r\n                    cell.data = row.cells[column].data\r\n                    d.appendChild(cell)\r\n                }\r\n            })\r\n\r\n            temp[2].push(c)\r\n            temp[3].push(d)\r\n        })\r\n\r\n        dt.headings = temp[0]\r\n        dt.activeHeadings = temp[1]\r\n\r\n        dt.data = temp[2]\r\n        dt.activeRows = temp[3]\r\n\r\n        // Update\r\n        dt.update()\r\n    }\r\n\r\n    /**\r\n     * Hide columns\r\n     * @return {Void}\r\n     */\r\n    hide(columns) {\r\n        if (columns.length) {\r\n            const dt = this.dt\r\n\r\n            each(columns, column => {\r\n                if (!dt.hiddenColumns.includes(column)) {\r\n                    dt.hiddenColumns.push(column)\r\n                }\r\n            })\r\n\r\n            this.rebuild()\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Show columns\r\n     * @return {Void}\r\n     */\r\n    show(columns) {\r\n        if (columns.length) {\r\n            let index\r\n            const dt = this.dt\r\n\r\n            each(columns, column => {\r\n                index = dt.hiddenColumns.indexOf(column)\r\n                if (index > -1) {\r\n                    dt.hiddenColumns.splice(index, 1)\r\n                }\r\n            })\r\n\r\n            this.rebuild()\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Check column(s) visibility\r\n     * @return {Boolean}\r\n     */\r\n    visible(columns) {\r\n        let cols\r\n        const dt = this.dt\r\n\r\n        columns = columns || dt.headings.map(th => th.originalCellIndex)\r\n\r\n        if (!isNaN(columns)) {\r\n            cols = !dt.hiddenColumns.includes(columns)\r\n        } else if (isArray(columns)) {\r\n            cols = []\r\n            each(columns, column => {\r\n                cols.push(!dt.hiddenColumns.includes(column))\r\n            })\r\n        }\r\n\r\n        return cols\r\n    }\r\n\r\n    /**\r\n     * Add a new column\r\n     * @param {Object} data\r\n     */\r\n    add(data) {\r\n        let td\r\n        const th = document.createElement(\"th\")\r\n\r\n        if (!this.dt.headings.length) {\r\n            this.dt.insert({\r\n                headings: [data.heading],\r\n                data: data.data.map(i => [i])\r\n            })\r\n            this.rebuild()\r\n            return\r\n        }\r\n\r\n        if (!this.dt.hiddenHeader) {\r\n            if (data.heading.nodeName) {\r\n                th.appendChild(data.heading)\r\n            } else {\r\n                th.innerHTML = data.heading\r\n            }\r\n        } else {\r\n            th.innerHTML = \"\"\r\n        }\r\n\r\n        this.dt.headings.push(th)\r\n\r\n        each(this.dt.data, (row, i) => {\r\n            if (data.data[i]) {\r\n                td = document.createElement(\"td\")\r\n\r\n                if (data.data[i].nodeName) {\r\n                    td.appendChild(data.data[i])\r\n                } else {\r\n                    td.innerHTML = data.data[i]\r\n                }\r\n\r\n                td.data = td.innerHTML\r\n\r\n                if (data.render) {\r\n                    td.innerHTML = data.render.call(this, td.data, td, row)\r\n                }\r\n\r\n                row.appendChild(td)\r\n            }\r\n        })\r\n\r\n        if (data.type) {\r\n            th.setAttribute(\"data-type\", data.type)\r\n        }\r\n        if (data.format) {\r\n            th.setAttribute(\"data-format\", data.format)\r\n        }\r\n\r\n        if (data.hasOwnProperty(\"sortable\")) {\r\n            th.sortable = data.sortable\r\n            th.setAttribute(\"data-sortable\", data.sortable === true ? \"true\" : \"false\")\r\n        }\r\n\r\n        this.rebuild()\r\n\r\n        this.dt.renderHeader()\r\n    }\r\n\r\n    /**\r\n     * Remove column(s)\r\n     * @param  {Array|Number} select\r\n     * @return {Void}\r\n     */\r\n    remove(select) {\r\n        if (isArray(select)) {\r\n            // Remove in reverse otherwise the indexes will be incorrect\r\n            select.sort((a, b) => b - a)\r\n\r\n            each(select, function (column) {\r\n                this.remove(column)\r\n            }, this)\r\n        } else {\r\n            this.dt.headings.splice(select, 1)\r\n\r\n            each(this.dt.data, row => {\r\n                row.removeChild(row.cells[select])\r\n            })\r\n        }\r\n\r\n        this.rebuild()\r\n    }\r\n\r\n    /**\r\n     * Sort by column\r\n     * @param  {int} column - The column no.\r\n     * @param  {string} dir - asc or desc\r\n     * @return {void}\r\n     */\r\n    sort(column, dir, init) {\r\n        const dt = this.dt\r\n\r\n        // Check column is present\r\n        if (dt.hasHeadings && (column < 0 || column > dt.headings.length)) {\r\n            return false\r\n        }\r\n\r\n        dt.sorting = true\r\n\r\n        let rows = dt.data\r\n        const alpha = []\r\n        const numeric = []\r\n        let a = 0\r\n        let n = 0\r\n        const th = dt.headings[column]\r\n        let parseFunction = content => content\r\n        const waitFor = []\r\n\r\n        // Check for date format\r\n        if (th.getAttribute(\"data-type\") === \"date\") {\r\n            let format = false\r\n            const formatted = th.hasAttribute(\"data-format\")\r\n\r\n            if (formatted) {\r\n                format = th.getAttribute(\"data-format\")\r\n            }\r\n            waitFor.push(import(\"./date\").then(({parseDate}) => {\r\n                parseFunction = content => parseDate(content, format)\r\n            }))\r\n        }\r\n\r\n        Promise.all(waitFor).then(() => {\r\n            Array.from(rows).forEach(tr => {\r\n                const cell = tr.cells[column]\r\n                const content = cell.hasAttribute('data-content') ? cell.getAttribute('data-content') : cell.innerText\r\n                const num = parseFunction(typeof content===\"string\" ? content.replace(/(\\$|,|\\s|%)/g, \"\") : content)\r\n\r\n                if (parseFloat(num) == num) {\r\n                    numeric[n++] = {\r\n                        value: Number(num),\r\n                        row: tr\r\n                    }\r\n                } else {\r\n                    alpha[a++] = {\r\n                        value: content,\r\n                        row: tr\r\n                    }\r\n                }\r\n            })\r\n\r\n            /* Sort according to direction (ascending or descending) */\r\n            if (!dir) {\r\n                if (classList.contains(th, \"asc\")) {\r\n                    dir = \"desc\"\r\n                } else {\r\n                    dir = \"asc\"\r\n                }\r\n            }\r\n            let top\r\n            let btm\r\n            if (dir == \"desc\") {\r\n                top = sortItems(alpha, -1)\r\n                btm = sortItems(numeric, -1)\r\n                classList.remove(th, \"asc\")\r\n                classList.add(th, \"desc\")\r\n            } else {\r\n                top = sortItems(numeric, 1)\r\n                btm = sortItems(alpha, 1)\r\n                classList.remove(th, \"desc\")\r\n                classList.add(th, \"asc\")\r\n            }\r\n\r\n            /* Clear asc/desc class names from the last sorted column's th if it isn't the same as the one that was just clicked */\r\n            if (dt.lastTh && th != dt.lastTh) {\r\n                classList.remove(dt.lastTh, \"desc\")\r\n                classList.remove(dt.lastTh, \"asc\")\r\n            }\r\n\r\n            dt.lastTh = th\r\n\r\n            /* Reorder the table */\r\n            rows = top.concat(btm)\r\n\r\n            dt.data = []\r\n            const indexes = []\r\n\r\n            each(rows, (v, i) => {\r\n                dt.data.push(v.row)\r\n\r\n                if (v.row.searchIndex !== null && v.row.searchIndex !== undefined) {\r\n                    indexes.push(i)\r\n                }\r\n            }, dt)\r\n\r\n            dt.searchData = indexes\r\n\r\n            this.rebuild()\r\n\r\n            dt.update()\r\n\r\n            if (!init) {\r\n                dt.emit(\"datatable.sort\", column, dir)\r\n            }\r\n        })\r\n    }\r\n\r\n    /**\r\n     * Rebuild the columns\r\n     * @return {Void}\r\n     */\r\n    rebuild() {\r\n        let a\r\n        let b\r\n        let c\r\n        let d\r\n        const dt = this.dt\r\n        const temp = []\r\n\r\n        dt.activeRows = []\r\n        dt.activeHeadings = []\r\n\r\n        each(dt.headings, (th, i) => {\r\n            th.originalCellIndex = i\r\n            th.sortable = th.getAttribute(\"data-sortable\") !== \"false\"\r\n            if (!dt.hiddenColumns.includes(i)) {\r\n                dt.activeHeadings.push(th)\r\n            }\r\n        }, this)\r\n\r\n        // Loop over the rows and reorder the cells\r\n        each(dt.data, (row, i) => {\r\n            a = row.cloneNode(false)\r\n            b = row.cloneNode(false)\r\n\r\n            a.dataIndex = b.dataIndex = i\r\n\r\n            if (row.searchIndex !== null && row.searchIndex !== undefined) {\r\n                a.searchIndex = b.searchIndex = row.searchIndex\r\n            }\r\n\r\n            // Append the cell to the fragment in the correct order\r\n            each(row.cells, cell => {\r\n                c = cell.cloneNode(true)\r\n                c.data = cell.data\r\n                a.appendChild(c)\r\n\r\n                if (!dt.hiddenColumns.includes(c.cellIndex)) {\r\n                    d = c.cloneNode(true)\r\n                    d.data = c.data\r\n                    b.appendChild(d)\r\n                }\r\n            })\r\n\r\n            // Append the fragment with the ordered cells\r\n            temp.push(a)\r\n            dt.activeRows.push(b)\r\n        })\r\n\r\n        dt.data = temp\r\n\r\n        dt.update()\r\n    }\r\n}\r\n","import {each, createElement} from \"./helpers\"\r\n\r\n/**\r\n * Parse data to HTML table\r\n */\r\nexport const dataToTable = function (data) {\r\n    let thead = false\r\n    let tbody = false\r\n\r\n    data = data || this.options.data\r\n\r\n    if (data.headings) {\r\n        thead = createElement(\"thead\")\r\n        const tr = createElement(\"tr\")\r\n        each(data.headings, col => {\r\n            const td = createElement(\"th\", {\r\n                html: col\r\n            })\r\n            tr.appendChild(td)\r\n        })\r\n\r\n        thead.appendChild(tr)\r\n    }\r\n\r\n    if (data.data && data.data.length) {\r\n        tbody = createElement(\"tbody\")\r\n        each(data.data, rows => {\r\n            if (data.headings) {\r\n                if (data.headings.length !== rows.length) {\r\n                    throw new Error(\r\n                        \"The number of rows do not match the number of headings.\"\r\n                    )\r\n                }\r\n            }\r\n            const tr = createElement(\"tr\")\r\n            each(rows, value => {\r\n                const td = createElement(\"td\", {\r\n                    html: value\r\n                })\r\n                tr.appendChild(td)\r\n            })\r\n            tbody.appendChild(tr)\r\n        })\r\n    }\r\n\r\n    if (thead) {\r\n        if (this.table.tHead !== null) {\r\n            this.table.removeChild(this.table.tHead)\r\n        }\r\n        this.table.appendChild(thead)\r\n    }\r\n\r\n    if (tbody) {\r\n        if (this.table.tBodies.length) {\r\n            this.table.removeChild(this.table.tBodies[0])\r\n        }\r\n        this.table.appendChild(tbody)\r\n    }\r\n}\r\n","/**\r\n * Default configuration\r\n * @typ {Object}\r\n */\r\nexport const defaultConfig = {\r\n    sortable: true,\r\n    searchable: true,\r\n\r\n    // Pagination\r\n    paging: true,\r\n    perPage: 10,\r\n    perPageSelect: [5, 10, 15, 20, 25],\r\n    nextPrev: true,\r\n    firstLast: false,\r\n    prevText: \"&lsaquo;\",\r\n    nextText: \"&rsaquo;\",\r\n    firstText: \"&laquo;\",\r\n    lastText: \"&raquo;\",\r\n    ellipsisText: \"&hellip;\",\r\n    ascText: \"▴\",\r\n    descText: \"▾\",\r\n    truncatePager: true,\r\n    pagerDelta: 2,\r\n\r\n    scrollY: \"\",\r\n\r\n    fixedColumns: true,\r\n    fixedHeight: false,\r\n\r\n    header: true,\r\n    footer: false,\r\n\r\n    // Customise the display text\r\n    labels: {\r\n        placeholder: \"Search...\", // The search input placeholder\r\n        perPage: \"{select} entries per page\", // per-page dropdown label\r\n        noRows: \"No entries found\", // Message shown when there are no search results\r\n        info: \"Showing {start} to {end} of {rows} entries\" //\r\n    },\r\n\r\n    // Customise the layout\r\n    layout: {\r\n        top: \"{select}{search}\",\r\n        bottom: \"{info}{pager}\"\r\n    }\r\n}\r\n","import {Rows} from \"./rows\"\r\nimport {Columns} from \"./columns\"\r\nimport {dataToTable} from \"./table\"\r\nimport {defaultConfig} from \"./config\"\r\nimport {\r\n    isObject,\r\n    isArray,\r\n    isJson,\r\n    extend,\r\n    each,\r\n    on,\r\n    createElement,\r\n    flush,\r\n    button,\r\n    classList,\r\n    truncate\r\n} from \"./helpers\"\r\n\r\n\r\nexport class DataTable {\r\n    constructor(table, options) {\r\n        this.initialized = false\r\n\r\n        // user options\r\n        this.options = extend(defaultConfig, options)\r\n\r\n        if (typeof table === \"string\") {\r\n            table = document.querySelector(table)\r\n        }\r\n\r\n        this.initialLayout = table.innerHTML\r\n        this.initialSortable = this.options.sortable\r\n\r\n        // Disable manual sorting if no header is present (#4)\r\n        if (!this.options.header) {\r\n            this.options.sortable = false\r\n        }\r\n\r\n        if (table.tHead === null) {\r\n            if (!this.options.data ||\r\n                (this.options.data && !this.options.data.headings)\r\n            ) {\r\n                this.options.sortable = false\r\n            }\r\n        }\r\n\r\n        if (table.tBodies.length && !table.tBodies[0].rows.length) {\r\n            if (this.options.data) {\r\n                if (!this.options.data.data) {\r\n                    throw new Error(\r\n                        \"You seem to be using the data option, but you've not defined any rows.\"\r\n                    )\r\n                }\r\n            }\r\n        }\r\n\r\n        this.table = table\r\n\r\n        this.init()\r\n    }\r\n\r\n    /**\r\n     * Add custom property or method to extend DataTable\r\n     * @param  {String} prop    - Method name or property\r\n     * @param  {Mixed} val      - Function or property value\r\n     * @return {Void}\r\n     */\r\n    static extend(prop, val) {\r\n        if (typeof val === \"function\") {\r\n            DataTable.prototype[prop] = val\r\n        } else {\r\n            DataTable[prop] = val\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Initialize the instance\r\n     * @param  {Object} options\r\n     * @return {Void}\r\n     */\r\n    init(options) {\r\n        if (this.initialized || classList.contains(this.table, \"dataTable-table\")) {\r\n            return false\r\n        }\r\n\r\n        this.options = extend(this.options, options || {})\r\n\r\n        // IE detection\r\n        this.isIE = !!/(msie|trident)/i.test(navigator.userAgent)\r\n\r\n        this.currentPage = 1\r\n        this.onFirstPage = true\r\n\r\n        this.hiddenColumns = []\r\n        this.columnRenderers = []\r\n        this.selectedColumns = []\r\n\r\n        this.render()\r\n\r\n        setTimeout(() => {\r\n            this.emit(\"datatable.init\")\r\n            this.initialized = true\r\n\r\n            if (this.options.plugins) {\r\n                each(this.options.plugins, (options, plugin) => {\r\n                    if (this[plugin] && typeof this[plugin] === \"function\") {\r\n                        this[plugin] = this[plugin](options, {\r\n                            each,\r\n                            extend,\r\n                            classList,\r\n                            createElement\r\n                        })\r\n\r\n                        // Init plugin\r\n                        if (options.enabled && this[plugin].init && typeof this[plugin].init === \"function\") {\r\n                            this[plugin].init()\r\n                        }\r\n                    }\r\n                })\r\n            }\r\n        }, 10)\r\n    }\r\n\r\n    /**\r\n     * Render the instance\r\n     * @param  {String} type\r\n     * @return {Void}\r\n     */\r\n    render(type) {\r\n        if (type) {\r\n            switch (type) {\r\n            case \"page\":\r\n                this.renderPage()\r\n                break\r\n            case \"pager\":\r\n                this.renderPager()\r\n                break\r\n            case \"header\":\r\n                this.renderHeader()\r\n                break\r\n            }\r\n\r\n            return false\r\n        }\r\n\r\n        const o = this.options\r\n        let template = \"\"\r\n\r\n        // Convert data to HTML\r\n        if (o.data) {\r\n            dataToTable.call(this)\r\n        }\r\n\r\n        if (o.ajax) {\r\n            const ajax = o.ajax\r\n            const xhr = new XMLHttpRequest()\r\n\r\n            const xhrProgress = e => {\r\n                this.emit(\"datatable.ajax.progress\", e, xhr)\r\n            }\r\n\r\n            const xhrLoad = e => {\r\n                if (xhr.readyState === 4) {\r\n                    this.emit(\"datatable.ajax.loaded\", e, xhr)\r\n\r\n                    if (xhr.status === 200) {\r\n                        let obj = {}\r\n                        obj.data = ajax.load ? ajax.load.call(this, xhr) : xhr.responseText\r\n\r\n                        obj.type = \"json\"\r\n\r\n                        if (ajax.content && ajax.content.type) {\r\n                            obj.type = ajax.content.type\r\n\r\n                            obj = extend(obj, ajax.content)\r\n                        }\r\n\r\n                        this.import(obj)\r\n\r\n                        this.setColumns(true)\r\n\r\n                        this.emit(\"datatable.ajax.success\", e, xhr)\r\n                    } else {\r\n                        this.emit(\"datatable.ajax.error\", e, xhr)\r\n                    }\r\n                }\r\n            }\r\n\r\n            const xhrFailed = e => {\r\n                this.emit(\"datatable.ajax.error\", e, xhr)\r\n            }\r\n\r\n            const xhrCancelled = e => {\r\n                this.emit(\"datatable.ajax.abort\", e, xhr)\r\n            }\r\n\r\n            on(xhr, \"progress\", xhrProgress)\r\n            on(xhr, \"load\", xhrLoad)\r\n            on(xhr, \"error\", xhrFailed)\r\n            on(xhr, \"abort\", xhrCancelled)\r\n\r\n            this.emit(\"datatable.ajax.loading\", xhr)\r\n\r\n            xhr.open(\"GET\", typeof ajax === \"string\" ? o.ajax : o.ajax.url)\r\n            xhr.send()\r\n        }\r\n\r\n        // Store references\r\n        this.body = this.table.tBodies[0]\r\n        this.head = this.table.tHead\r\n        this.foot = this.table.tFoot\r\n\r\n        if (!this.body) {\r\n            this.body = createElement(\"tbody\")\r\n\r\n            this.table.appendChild(this.body)\r\n        }\r\n\r\n        this.hasRows = this.body.rows.length > 0\r\n\r\n        // Make a tHead if there isn't one (fixes #8)\r\n        if (!this.head) {\r\n            const h = createElement(\"thead\")\r\n            const t = createElement(\"tr\")\r\n\r\n            if (this.hasRows) {\r\n                each(this.body.rows[0].cells, () => {\r\n                    t.appendChild(createElement(\"th\"))\r\n                })\r\n\r\n                h.appendChild(t)\r\n            }\r\n\r\n            this.head = h\r\n\r\n            this.table.insertBefore(this.head, this.body)\r\n\r\n            this.hiddenHeader = !o.ajax\r\n        }\r\n\r\n        this.headings = []\r\n        this.hasHeadings = this.head.rows.length > 0\r\n\r\n        if (this.hasHeadings) {\r\n            this.header = this.head.rows[0]\r\n            this.headings = [].slice.call(this.header.cells)\r\n        }\r\n\r\n        // Header\r\n        if (!o.header) {\r\n            if (this.head) {\r\n                this.table.removeChild(this.table.tHead)\r\n            }\r\n        }\r\n\r\n        // Footer\r\n        if (o.footer) {\r\n            if (this.head && !this.foot) {\r\n                this.foot = createElement(\"tfoot\", {\r\n                    html: this.head.innerHTML\r\n                })\r\n                this.table.appendChild(this.foot)\r\n            }\r\n        } else {\r\n            if (this.foot) {\r\n                this.table.removeChild(this.table.tFoot)\r\n            }\r\n        }\r\n\r\n        // Build\r\n        this.wrapper = createElement(\"div\", {\r\n            class: \"dataTable-wrapper dataTable-loading\"\r\n        })\r\n\r\n        // Template for custom layouts\r\n        template += \"<div class='dataTable-top'>\"\r\n        template += o.layout.top\r\n        template += \"</div>\"\r\n        if (o.scrollY.length) {\r\n            template += `<div class='dataTable-container' style='height: ${o.scrollY}; overflow-Y: auto;'></div>`\r\n        } else {\r\n            template += \"<div class='dataTable-container'></div>\"\r\n        }\r\n        template += \"<div class='dataTable-bottom'>\"\r\n        template += o.layout.bottom\r\n        template += \"</div>\"\r\n\r\n        // Info placement\r\n        template = template.replace(\"{info}\", o.paging ? \"<div class='dataTable-info'></div>\" : \"\")\r\n\r\n        // Per Page Select\r\n        if (o.paging && o.perPageSelect) {\r\n            let wrap = \"<div class='dataTable-dropdown'><label>\"\r\n            wrap += o.labels.perPage\r\n            wrap += \"</label></div>\"\r\n\r\n            // Create the select\r\n            const select = createElement(\"select\", {\r\n                class: \"dataTable-selector\"\r\n            })\r\n\r\n            // Create the options\r\n            each(o.perPageSelect, val => {\r\n                const selected = val === o.perPage\r\n                const option = new Option(val, val, selected, selected)\r\n                select.add(option)\r\n            })\r\n\r\n            // Custom label\r\n            wrap = wrap.replace(\"{select}\", select.outerHTML)\r\n\r\n            // Selector placement\r\n            template = template.replace(\"{select}\", wrap)\r\n        } else {\r\n            template = template.replace(\"{select}\", \"\")\r\n        }\r\n\r\n        // Searchable\r\n        if (o.searchable) {\r\n            const form =\r\n                `<div class='dataTable-search'><input class='dataTable-input' placeholder='${o.labels.placeholder}' type='text'></div>`\r\n\r\n            // Search input placement\r\n            template = template.replace(\"{search}\", form)\r\n        } else {\r\n            template = template.replace(\"{search}\", \"\")\r\n        }\r\n\r\n        if (this.hasHeadings) {\r\n            // Sortable\r\n            this.render(\"header\")\r\n        }\r\n\r\n        // Add table class\r\n        classList.add(this.table, \"dataTable-table\")\r\n\r\n        // Paginator\r\n        const w = createElement(\"div\", {\r\n            class: \"dataTable-pagination\"\r\n        })\r\n        const paginator = createElement(\"ul\")\r\n        w.appendChild(paginator)\r\n\r\n        // Pager(s) placement\r\n        template = template.replace(/\\{pager\\}/g, w.outerHTML)\r\n\r\n        this.wrapper.innerHTML = template\r\n\r\n        this.container = this.wrapper.querySelector(\".dataTable-container\")\r\n\r\n        this.pagers = this.wrapper.querySelectorAll(\".dataTable-pagination\")\r\n\r\n        this.label = this.wrapper.querySelector(\".dataTable-info\")\r\n\r\n        // Insert in to DOM tree\r\n        this.table.parentNode.replaceChild(this.wrapper, this.table)\r\n        this.container.appendChild(this.table)\r\n\r\n        // Store the table dimensions\r\n        this.rect = this.table.getBoundingClientRect()\r\n\r\n        // Convert rows to array for processing\r\n        this.data = [].slice.call(this.body.rows)\r\n        this.activeRows = this.data.slice()\r\n        this.activeHeadings = this.headings.slice()\r\n\r\n        // Update\r\n        this.update()\r\n\r\n        if (!o.ajax) {\r\n            this.setColumns()\r\n        }\r\n\r\n        // Fix height\r\n        this.fixHeight()\r\n\r\n        // Fix columns\r\n        this.fixColumns()\r\n\r\n        // Class names\r\n        if (!o.header) {\r\n            classList.add(this.wrapper, \"no-header\")\r\n        }\r\n\r\n        if (!o.footer) {\r\n            classList.add(this.wrapper, \"no-footer\")\r\n        }\r\n\r\n        if (o.sortable) {\r\n            classList.add(this.wrapper, \"sortable\")\r\n        }\r\n\r\n        if (o.searchable) {\r\n            classList.add(this.wrapper, \"searchable\")\r\n        }\r\n\r\n        if (o.fixedHeight) {\r\n            classList.add(this.wrapper, \"fixed-height\")\r\n        }\r\n\r\n        if (o.fixedColumns) {\r\n            classList.add(this.wrapper, \"fixed-columns\")\r\n        }\r\n\r\n        this.bindEvents()\r\n    }\r\n\r\n    /**\r\n     * Render the page\r\n     * @return {Void}\r\n     */\r\n    renderPage() {\r\n        if (this.hasHeadings) {\r\n            flush(this.header, this.isIE)\r\n\r\n            each(this.activeHeadings, function (th) {\r\n                this.header.appendChild(th)\r\n            }, this)\r\n        }\r\n\r\n\r\n        if (this.hasRows && this.totalPages) {\r\n            if (this.currentPage > this.totalPages) {\r\n                this.currentPage = 1\r\n            }\r\n\r\n            // Use a fragment to limit touching the DOM\r\n            const index = this.currentPage - 1\r\n\r\n            const frag = document.createDocumentFragment()\r\n\r\n            each(this.pages[index], function (row) {\r\n                frag.appendChild(this.rows().render(row))\r\n            }, this)\r\n\r\n            this.clear(frag)\r\n\r\n            this.onFirstPage = this.currentPage === 1\r\n            this.onLastPage = this.currentPage === this.lastPage\r\n        } else {\r\n            this.setMessage(this.options.labels.noRows)\r\n        }\r\n\r\n        // Update the info\r\n        let current = 0\r\n\r\n        let f = 0\r\n        let t = 0\r\n        let items\r\n\r\n        if (this.totalPages) {\r\n            current = this.currentPage - 1\r\n            f = current * this.options.perPage\r\n            t = f + this.pages[current].length\r\n            f = f + 1\r\n            items = this.searching ? this.searchData.length : this.data.length\r\n        }\r\n\r\n        if (this.label && this.options.labels.info.length) {\r\n            // CUSTOM LABELS\r\n            const string = this.options.labels.info\r\n                .replace(\"{start}\", f)\r\n                .replace(\"{end}\", t)\r\n                .replace(\"{page}\", this.currentPage)\r\n                .replace(\"{pages}\", this.totalPages)\r\n                .replace(\"{rows}\", items)\r\n\r\n            this.label.innerHTML = items ? string : \"\"\r\n        }\r\n\r\n        if (this.currentPage == 1) {\r\n            this.fixHeight()\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Render the pager(s)\r\n     * @return {Void}\r\n     */\r\n    renderPager() {\r\n        flush(this.pagers, this.isIE)\r\n\r\n        if (this.totalPages > 1) {\r\n            const c = \"pager\"\r\n            const frag = document.createDocumentFragment()\r\n            const prev = this.onFirstPage ? 1 : this.currentPage - 1\r\n            const next = this.onlastPage ? this.totalPages : this.currentPage + 1\r\n\r\n            // first button\r\n            if (this.options.firstLast) {\r\n                frag.appendChild(button(c, 1, this.options.firstText))\r\n            }\r\n\r\n            // prev button\r\n            if (this.options.nextPrev) {\r\n                frag.appendChild(button(c, prev, this.options.prevText))\r\n            }\r\n\r\n            let pager = this.links\r\n\r\n            // truncate the links\r\n            if (this.options.truncatePager) {\r\n                pager = truncate(\r\n                    this.links,\r\n                    this.currentPage,\r\n                    this.pages.length,\r\n                    this.options.pagerDelta,\r\n                    this.options.ellipsisText\r\n                )\r\n            }\r\n\r\n            // active page link\r\n            classList.add(this.links[this.currentPage - 1], \"active\")\r\n\r\n            // append the links\r\n            each(pager, p => {\r\n                classList.remove(p, \"active\")\r\n                frag.appendChild(p)\r\n            })\r\n\r\n            classList.add(this.links[this.currentPage - 1], \"active\")\r\n\r\n            // next button\r\n            if (this.options.nextPrev) {\r\n                frag.appendChild(button(c, next, this.options.nextText))\r\n            }\r\n\r\n            // first button\r\n            if (this.options.firstLast) {\r\n                frag.appendChild(button(c, this.totalPages, this.options.lastText))\r\n            }\r\n\r\n            // We may have more than one pager\r\n            each(this.pagers, pager => {\r\n                pager.appendChild(frag.cloneNode(true))\r\n            })\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Render the header\r\n     * @return {Void}\r\n     */\r\n    renderHeader() {\r\n        this.labels = []\r\n\r\n        if (this.headings && this.headings.length) {\r\n            each(this.headings, (th, i) => {\r\n\r\n                this.labels[i] = th.textContent\r\n\r\n                if (classList.contains(th.firstElementChild, \"dataTable-sorter\")) {\r\n                    th.innerHTML = th.firstElementChild.innerHTML\r\n                }\r\n\r\n                th.sortable = th.getAttribute(\"data-sortable\") !== \"false\"\r\n\r\n                th.originalCellIndex = i\r\n                if (this.options.sortable && th.sortable) {\r\n                    const link = createElement(\"a\", {\r\n                        href: \"#\",\r\n                        class: \"dataTable-sorter\",\r\n                        html: th.innerHTML\r\n                    })\r\n\r\n                    th.innerHTML = \"\"\r\n                    th.setAttribute(\"data-sortable\", \"\")\r\n                    th.appendChild(link)\r\n                }\r\n            })\r\n        }\r\n\r\n        this.fixColumns()\r\n    }\r\n\r\n    /**\r\n     * Bind event listeners\r\n     * @return {[type]} [description]\r\n     */\r\n    bindEvents() {\r\n        const o = this.options\r\n        const that = this\r\n        // Per page selector\r\n        if (o.perPageSelect) {\r\n            const selector = this.wrapper.querySelector(\".dataTable-selector\")\r\n            if (selector) {\r\n                // Change per page\r\n                on(selector, \"change\", function () {\r\n                    o.perPage = parseInt(this.value, 10)\r\n                    that.update()\r\n\r\n                    that.fixHeight()\r\n\r\n                    that.emit(\"datatable.perpage\", o.perPage)\r\n                })\r\n            }\r\n        }\r\n\r\n        // Search input\r\n        if (o.searchable) {\r\n            this.input = this.wrapper.querySelector(\".dataTable-input\")\r\n            if (this.input) {\r\n                on(this.input, \"keyup\", function () {\r\n                    that.search(this.value)\r\n                })\r\n            }\r\n        }\r\n\r\n        // Pager(s) / sorting\r\n        on(this.wrapper, \"click\", e => {\r\n            const t = e.target\r\n            if (t.nodeName.toLowerCase() === \"a\") {\r\n                if (t.hasAttribute(\"data-page\")) {\r\n                    this.page(t.getAttribute(\"data-page\"))\r\n                    e.preventDefault()\r\n                } else if (\r\n                    o.sortable &&\r\n                    classList.contains(t, \"dataTable-sorter\") &&\r\n                    t.parentNode.getAttribute(\"data-sortable\") != \"false\"\r\n                ) {\r\n                    this.columns().sort(this.headings.indexOf(t.parentNode))\r\n                    e.preventDefault()\r\n                }\r\n            }\r\n        })\r\n\r\n        on(window, \"resize\", () => {\r\n            this.rect = this.container.getBoundingClientRect()\r\n            this.fixColumns()\r\n        })\r\n    }\r\n\r\n    /**\r\n     * Set up columns\r\n     * @return {[type]} [description]\r\n     */\r\n    setColumns(ajax) {\r\n\r\n        if (!ajax) {\r\n            each(this.data, row => {\r\n                each(row.cells, cell => {\r\n                    cell.data = cell.innerHTML\r\n                })\r\n            })\r\n        }\r\n\r\n        // Check for the columns option\r\n        if (this.options.columns && this.headings.length) {\r\n\r\n            each(this.options.columns, data => {\r\n\r\n                // convert single column selection to array\r\n                if (!isArray(data.select)) {\r\n                    data.select = [data.select]\r\n                }\r\n\r\n                if (data.hasOwnProperty(\"render\") && typeof data.render === \"function\") {\r\n                    this.selectedColumns = this.selectedColumns.concat(data.select)\r\n\r\n                    this.columnRenderers.push({\r\n                        columns: data.select,\r\n                        renderer: data.render\r\n                    })\r\n                }\r\n\r\n                // Add the data attributes to the th elements\r\n                each(data.select, column => {\r\n                    const th = this.headings[column]\r\n                    if (data.type) {\r\n                        th.setAttribute(\"data-type\", data.type)\r\n                    }\r\n                    if (data.format) {\r\n                        th.setAttribute(\"data-format\", data.format)\r\n                    }\r\n                    if (data.hasOwnProperty(\"sortable\")) {\r\n                        th.setAttribute(\"data-sortable\", data.sortable)\r\n                    }\r\n\r\n                    if (data.hasOwnProperty(\"hidden\")) {\r\n                        if (data.hidden !== false) {\r\n                            this.columns().hide([column])\r\n                        }\r\n                    }\r\n\r\n                    if (data.hasOwnProperty(\"sort\") && data.select.length === 1) {\r\n                        this.columns().sort(data.select[0], data.sort, true)\r\n                    }\r\n                })\r\n            })\r\n        }\r\n\r\n        if (this.hasRows) {\r\n            each(this.data, (row, i) => {\r\n                row.dataIndex = i\r\n                each(row.cells, cell => {\r\n                    cell.data = cell.innerHTML\r\n                })\r\n            })\r\n\r\n            if (this.selectedColumns.length) {\r\n                each(this.data, row => {\r\n                    each(row.cells, (cell, i) => {\r\n                        if (this.selectedColumns.includes(i)) {\r\n                            each(this.columnRenderers, o => {\r\n                                if (o.columns.includes(i)) {\r\n                                    cell.innerHTML = o.renderer.call(this, cell.data, cell, row)\r\n                                }\r\n                            })\r\n                        }\r\n                    })\r\n                })\r\n            }\r\n\r\n            this.columns().rebuild()\r\n        }\r\n\r\n        this.render(\"header\")\r\n    }\r\n\r\n    /**\r\n     * Destroy the instance\r\n     * @return {void}\r\n     */\r\n    destroy() {\r\n        this.table.innerHTML = this.initialLayout\r\n\r\n        // Remove the className\r\n        classList.remove(this.table, \"dataTable-table\")\r\n\r\n        // Remove the containers\r\n        this.wrapper.parentNode.replaceChild(this.table, this.wrapper)\r\n\r\n        this.initialized = false\r\n    }\r\n\r\n    /**\r\n     * Update the instance\r\n     * @return {Void}\r\n     */\r\n    update() {\r\n        classList.remove(this.wrapper, \"dataTable-empty\")\r\n\r\n        this.paginate(this)\r\n        this.render(\"page\")\r\n\r\n        this.links = []\r\n\r\n        let i = this.pages.length\r\n        while (i--) {\r\n            const num = i + 1\r\n            this.links[i] = button(i === 0 ? \"active\" : \"\", num, num)\r\n        }\r\n\r\n        this.sorting = false\r\n\r\n        this.render(\"pager\")\r\n\r\n        this.rows().update()\r\n\r\n        this.emit(\"datatable.update\")\r\n    }\r\n\r\n    /**\r\n     * Sort rows into pages\r\n     * @return {Number}\r\n     */\r\n    paginate() {\r\n        const perPage = this.options.perPage\r\n        let rows = this.activeRows\r\n\r\n        if (this.searching) {\r\n            rows = []\r\n\r\n            each(this.searchData, function (index) {\r\n                rows.push(this.activeRows[index])\r\n            }, this)\r\n        }\r\n\r\n        if (this.options.paging) {\r\n            // Check for hidden columns\r\n            this.pages = rows\r\n                .map((tr, i) => i % perPage === 0 ? rows.slice(i, i + perPage) : null)\r\n                .filter(page => page)\r\n        } else {\r\n            this.pages = [rows]\r\n        }\r\n\r\n        this.totalPages = this.lastPage = this.pages.length\r\n\r\n        return this.totalPages\r\n    }\r\n\r\n    /**\r\n     * Fix column widths\r\n     * @return {Void}\r\n     */\r\n    fixColumns() {\r\n\r\n        if ((this.options.scrollY.length || this.options.fixedColumns) && this.activeHeadings && this.activeHeadings.length) {\r\n            let cells\r\n            let hd = false\r\n            this.columnWidths = []\r\n\r\n            // If we have headings we need only set the widths on them\r\n            // otherwise we need a temp header and the widths need applying to all cells\r\n            if (this.table.tHead) {\r\n\r\n                if (this.options.scrollY.length) {\r\n                    hd = createElement(\"thead\")\r\n                    hd.appendChild(createElement(\"tr\"))\r\n                    hd.style.height = '0px'\r\n                    if (this.headerTable) {\r\n                        // move real header back into place\r\n                        this.table.tHead = this.headerTable.tHead\r\n                    }\r\n                }\r\n\r\n                // Reset widths\r\n                each(this.activeHeadings, cell => {\r\n                    cell.style.width = \"\"\r\n                }, this)\r\n\r\n                each(this.activeHeadings, function (cell, i) {\r\n                    const ow = cell.offsetWidth\r\n                    const w = ow / this.rect.width * 100\r\n                    cell.style.width = `${w}%`\r\n                    this.columnWidths[i] = ow\r\n                    if (this.options.scrollY.length) {\r\n                        const th = createElement(\"th\")\r\n                        hd.firstElementChild.appendChild(th)\r\n                        th.style.width = `${w}%`\r\n                        th.style.paddingTop = \"0\"\r\n                        th.style.paddingBottom = \"0\"\r\n                        th.style.border = \"0\"\r\n                    }\r\n                }, this)\r\n\r\n                if (this.options.scrollY.length) {\r\n                    const container = this.table.parentElement\r\n                    if (!this.headerTable) {\r\n                        this.headerTable = createElement(\"table\", {\r\n                            class: \"dataTable-table\"\r\n                        })\r\n                        const headercontainer = createElement(\"div\", {\r\n                            class: \"dataTable-headercontainer\"\r\n                        })\r\n                        headercontainer.appendChild(this.headerTable)\r\n                        container.parentElement.insertBefore(headercontainer, container)\r\n                    }\r\n                    const thd = this.table.tHead\r\n                    this.table.replaceChild(hd, thd)\r\n                    this.headerTable.tHead = thd\r\n\r\n                    // Compensate for scrollbars.\r\n                    this.headerTable.style.paddingRight = `${this.headerTable.clientWidth - this.table.clientWidth}px`\r\n\r\n                    if (container.scrollHeight > container.clientHeight) {\r\n                        // scrollbars on one page means scrollbars on all pages.\r\n                        container.style.overflowY = 'scroll'\r\n                    }\r\n                }\r\n\r\n            } else {\r\n                cells = []\r\n\r\n                // Make temperary headings\r\n                hd = createElement(\"thead\")\r\n                const r = createElement(\"tr\")\r\n                const c = this.table.tBodies[0].rows[0].cells\r\n                each(c, () => {\r\n                    const th = createElement(\"th\")\r\n                    r.appendChild(th)\r\n                    cells.push(th)\r\n                })\r\n\r\n                hd.appendChild(r)\r\n                this.table.insertBefore(hd, this.body)\r\n\r\n                const widths = []\r\n                each(cells, function (cell, i) {\r\n                    const ow = cell.offsetWidth\r\n                    const w = ow / this.rect.width * 100\r\n                    widths.push(w)\r\n                    this.columnWidths[i] = ow\r\n                }, this)\r\n\r\n                each(this.data, function (row) {\r\n                    each(row.cells, function (cell, i) {\r\n                        if (this.columns(cell.cellIndex).visible())\r\n                            cell.style.width = `${widths[i]}%`\r\n                    }, this)\r\n                }, this)\r\n\r\n                // Discard the temp header\r\n                this.table.removeChild(hd)\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Fix the container height\r\n     * @return {Void}\r\n     */\r\n    fixHeight() {\r\n        if (this.options.fixedHeight) {\r\n            this.container.style.height = null\r\n            this.rect = this.container.getBoundingClientRect()\r\n            this.container.style.height = `${this.rect.height}px`\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Perform a search of the data set\r\n     * @param  {string} query\r\n     * @return {void}\r\n     */\r\n    search(query) {\r\n        if (!this.hasRows) return false\r\n\r\n        query = query.toLowerCase()\r\n\r\n        this.currentPage = 1\r\n        this.searching = true\r\n        this.searchData = []\r\n\r\n        if (!query.length) {\r\n            this.searching = false\r\n            this.update()\r\n            this.emit(\"datatable.search\", query, this.searchData)\r\n            classList.remove(this.wrapper, \"search-results\")\r\n            return false\r\n        }\r\n\r\n        this.clear()\r\n\r\n        each(this.data, function (row, idx) {\r\n            const inArray = this.searchData.includes(row)\r\n\r\n            // https://github.com/Mobius1/Vanilla-DataTables/issues/12\r\n            const doesQueryMatch = query.split(\" \").reduce((bool, word) => {\r\n                let includes = false\r\n                let cell = null\r\n                let content = null\r\n\r\n                for (let x = 0; x < row.cells.length; x++) {\r\n                    cell = row.cells[x]\r\n                    content = cell.hasAttribute('data-content') ? cell.getAttribute('data-content') : cell.textContent\r\n\r\n                    if (\r\n                        content.toLowerCase().includes(word) &&\r\n                        this.columns(cell.cellIndex).visible()\r\n                    ) {\r\n                        includes = true\r\n                        break\r\n                    }\r\n                }\r\n\r\n                return bool && includes\r\n            }, true)\r\n\r\n            if (doesQueryMatch && !inArray) {\r\n                row.searchIndex = idx\r\n                this.searchData.push(idx)\r\n            } else {\r\n                row.searchIndex = null\r\n            }\r\n        }, this)\r\n\r\n        classList.add(this.wrapper, \"search-results\")\r\n\r\n        if (!this.searchData.length) {\r\n            classList.remove(this.wrapper, \"search-results\")\r\n\r\n            this.setMessage(this.options.labels.noRows)\r\n        } else {\r\n            this.update()\r\n        }\r\n\r\n        this.emit(\"datatable.search\", query, this.searchData)\r\n    }\r\n\r\n    /**\r\n     * Change page\r\n     * @param  {int} page\r\n     * @return {void}\r\n     */\r\n    page(page) {\r\n        // We don't want to load the current page again.\r\n        if (page == this.currentPage) {\r\n            return false\r\n        }\r\n\r\n        if (!isNaN(page)) {\r\n            this.currentPage = parseInt(page, 10)\r\n        }\r\n\r\n        if (page > this.pages.length || page < 0) {\r\n            return false\r\n        }\r\n\r\n        this.render(\"page\")\r\n        this.render(\"pager\")\r\n\r\n        this.emit(\"datatable.page\", page)\r\n    }\r\n\r\n    /**\r\n     * Sort by column\r\n     * @param  {int} column - The column no.\r\n     * @param  {string} direction - asc or desc\r\n     * @return {void}\r\n     */\r\n    sortColumn(column, direction) {\r\n        // Use columns API until sortColumn method is removed\r\n        this.columns().sort(column, direction)\r\n    }\r\n\r\n    /**\r\n     * Add new row data\r\n     * @param {object} data\r\n     */\r\n    insert(data) {\r\n        let rows = []\r\n        if (isObject(data)) {\r\n            if (data.headings) {\r\n                if (!this.hasHeadings && !this.hasRows) {\r\n                    const tr = createElement(\"tr\")\r\n                    let th\r\n                    each(data.headings, heading => {\r\n                        th = createElement(\"th\", {\r\n                            html: heading\r\n                        })\r\n\r\n                        tr.appendChild(th)\r\n                    })\r\n                    this.head.appendChild(tr)\r\n\r\n                    this.header = tr\r\n                    this.headings = [].slice.call(tr.cells)\r\n                    this.hasHeadings = true\r\n\r\n                    // Re-enable sorting if it was disabled due\r\n                    // to missing header\r\n                    this.options.sortable = this.initialSortable\r\n\r\n                    // Allow sorting on new header\r\n                    this.render(\"header\")\r\n\r\n                    // Activate newly added headings\r\n                    this.activeHeadings = this.headings.slice()\r\n                }\r\n            }\r\n\r\n            if (data.data && isArray(data.data)) {\r\n                rows = data.data\r\n            }\r\n        } else if (isArray(data)) {\r\n            each(data, row => {\r\n                const r = []\r\n                each(row, (cell, heading) => {\r\n\r\n                    const index = this.labels.indexOf(heading)\r\n\r\n                    if (index > -1) {\r\n                        r[index] = cell\r\n                    }\r\n                })\r\n                rows.push(r)\r\n            })\r\n        }\r\n\r\n        if (rows.length) {\r\n            this.rows().add(rows)\r\n\r\n            this.hasRows = true\r\n        }\r\n\r\n        this.update()\r\n\r\n        this.fixColumns()\r\n    }\r\n\r\n    /**\r\n     * Refresh the instance\r\n     * @return {void}\r\n     */\r\n    refresh() {\r\n        if (this.options.searchable) {\r\n            this.input.value = \"\"\r\n            this.searching = false\r\n        }\r\n        this.currentPage = 1\r\n        this.onFirstPage = true\r\n        this.update()\r\n\r\n        this.emit(\"datatable.refresh\")\r\n    }\r\n\r\n    /**\r\n     * Truncate the table\r\n     * @param  {mixes} html - HTML string or HTMLElement\r\n     * @return {void}\r\n     */\r\n    clear(html) {\r\n        if (this.body) {\r\n            flush(this.body, this.isIE)\r\n        }\r\n\r\n        let parent = this.body\r\n        if (!this.body) {\r\n            parent = this.table\r\n        }\r\n\r\n        if (html) {\r\n            if (typeof html === \"string\") {\r\n                const frag = document.createDocumentFragment()\r\n                frag.innerHTML = html\r\n            }\r\n\r\n            parent.appendChild(html)\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Export table to various formats (csv, txt or sql)\r\n     * @param  {Object} options User options\r\n     * @return {Boolean}\r\n     */\r\n    export(options) {\r\n        if (!this.hasHeadings && !this.hasRows) return false\r\n\r\n        const headers = this.activeHeadings\r\n        let rows = []\r\n        const arr = []\r\n        let i\r\n        let x\r\n        let str\r\n        let link\r\n\r\n        const defaults = {\r\n            download: true,\r\n            skipColumn: [],\r\n\r\n            // csv\r\n            lineDelimiter: \"\\n\",\r\n            columnDelimiter: \",\",\r\n\r\n            // sql\r\n            tableName: \"myTable\",\r\n\r\n            // json\r\n            replacer: null,\r\n            space: 4\r\n        }\r\n\r\n        // Check for the options object\r\n        if (!isObject(options)) {\r\n            return false\r\n        }\r\n\r\n        const o = extend(defaults, options)\r\n\r\n        if (o.type) {\r\n            if (o.type === \"txt\" || o.type === \"csv\") {\r\n                // Include headings\r\n                rows[0] = this.header\r\n            }\r\n\r\n            // Selection or whole table\r\n            if (o.selection) {\r\n                // Page number\r\n                if (!isNaN(o.selection)) {\r\n                    rows = rows.concat(this.pages[o.selection - 1])\r\n                } else if (isArray(o.selection)) {\r\n                    // Array of page numbers\r\n                    for (i = 0; i < o.selection.length; i++) {\r\n                        rows = rows.concat(this.pages[o.selection[i] - 1])\r\n                    }\r\n                }\r\n            } else {\r\n                rows = rows.concat(this.activeRows)\r\n            }\r\n\r\n            // Only proceed if we have data\r\n            if (rows.length) {\r\n                if (o.type === \"txt\" || o.type === \"csv\") {\r\n                    str = \"\"\r\n\r\n                    for (i = 0; i < rows.length; i++) {\r\n                        for (x = 0; x < rows[i].cells.length; x++) {\r\n                            // Check for column skip and visibility\r\n                            if (\r\n                                !o.skipColumn.includes(headers[x].originalCellIndex) &&\r\n                                this.columns(headers[x].originalCellIndex).visible()\r\n                            ) {\r\n                                let text = rows[i].cells[x].textContent\r\n                                text = text.trim()\r\n                                text = text.replace(/\\s{2,}/g, ' ')\r\n                                text = text.replace(/\\n/g, '  ')\r\n                                text = text.replace(/\"/g, '\"\"')\r\n                                //have to manually encode \"#\" as encodeURI leaves it as is.\r\n                                text = text.replace(/#/g, \"%23\")\r\n                                if (text.includes(\",\"))\r\n                                    text = `\"${text}\"`\r\n\r\n\r\n                                str += text + o.columnDelimiter\r\n                            }\r\n                        }\r\n                        // Remove trailing column delimiter\r\n                        str = str.trim().substring(0, str.length - 1)\r\n\r\n                        // Apply line delimiter\r\n                        str += o.lineDelimiter\r\n                    }\r\n\r\n                    // Remove trailing line delimiter\r\n                    str = str.trim().substring(0, str.length - 1)\r\n\r\n                    if (o.download) {\r\n                        str = `data:text/csv;charset=utf-8,${str}`\r\n                    }\r\n                } else if (o.type === \"sql\") {\r\n                    // Begin INSERT statement\r\n                    str = `INSERT INTO \\`${o.tableName}\\` (`\r\n\r\n                    // Convert table headings to column names\r\n                    for (i = 0; i < headers.length; i++) {\r\n                        // Check for column skip and column visibility\r\n                        if (\r\n                            !o.skipColumn.includes(headers[i].originalCellIndex) &&\r\n                            this.columns(headers[i].originalCellIndex).visible()\r\n                        ) {\r\n                            str += `\\`${headers[i].textContent}\\`,`\r\n                        }\r\n                    }\r\n\r\n                    // Remove trailing comma\r\n                    str = str.trim().substring(0, str.length - 1)\r\n\r\n                    // Begin VALUES\r\n                    str += \") VALUES \"\r\n\r\n                    // Iterate rows and convert cell data to column values\r\n                    for (i = 0; i < rows.length; i++) {\r\n                        str += \"(\"\r\n\r\n                        for (x = 0; x < rows[i].cells.length; x++) {\r\n                            // Check for column skip and column visibility\r\n                            if (\r\n                                !o.skipColumn.includes(headers[x].originalCellIndex) &&\r\n                                this.columns(headers[x].originalCellIndex).visible()\r\n                            ) {\r\n                                str += `\"${rows[i].cells[x].textContent}\",`\r\n                            }\r\n                        }\r\n\r\n                        // Remove trailing comma\r\n                        str = str.trim().substring(0, str.length - 1)\r\n\r\n                        // end VALUES\r\n                        str += \"),\"\r\n                    }\r\n\r\n                    // Remove trailing comma\r\n                    str = str.trim().substring(0, str.length - 1)\r\n\r\n                    // Add trailing colon\r\n                    str += \";\"\r\n\r\n                    if (o.download) {\r\n                        str = `data:application/sql;charset=utf-8,${str}`\r\n                    }\r\n                } else if (o.type === \"json\") {\r\n                    // Iterate rows\r\n                    for (x = 0; x < rows.length; x++) {\r\n                        arr[x] = arr[x] || {}\r\n                        // Iterate columns\r\n                        for (i = 0; i < headers.length; i++) {\r\n                            // Check for column skip and column visibility\r\n                            if (\r\n                                !o.skipColumn.includes(headers[i].originalCellIndex) &&\r\n                                this.columns(headers[i].originalCellIndex).visible()\r\n                            ) {\r\n                                arr[x][headers[i].textContent] = rows[x].cells[i].textContent\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    // Convert the array of objects to JSON string\r\n                    str = JSON.stringify(arr, o.replacer, o.space)\r\n\r\n                    if (o.download) {\r\n                        str = `data:application/json;charset=utf-8,${str}`\r\n                    }\r\n                }\r\n\r\n                // Download\r\n                if (o.download) {\r\n                    // Filename\r\n                    o.filename = o.filename || \"datatable_export\"\r\n                    o.filename += `.${o.type}`\r\n\r\n                    str = encodeURI(str)\r\n\r\n                    // Create a link to trigger the download\r\n                    link = document.createElement(\"a\")\r\n                    link.href = str\r\n                    link.download = o.filename\r\n\r\n                    // Append the link\r\n                    document.body.appendChild(link)\r\n\r\n                    // Trigger the download\r\n                    link.click()\r\n\r\n                    // Remove the link\r\n                    document.body.removeChild(link)\r\n                }\r\n\r\n                return str\r\n            }\r\n        }\r\n\r\n        return false\r\n    }\r\n\r\n    /**\r\n     * Import data to the table\r\n     * @param  {Object} options User options\r\n     * @return {Boolean}\r\n     */\r\n    import(options) {\r\n        let obj = false\r\n        const defaults = {\r\n            // csv\r\n            lineDelimiter: \"\\n\",\r\n            columnDelimiter: \",\"\r\n        }\r\n\r\n        // Check for the options object\r\n        if (!isObject(options)) {\r\n            return false\r\n        }\r\n\r\n        options = extend(defaults, options)\r\n\r\n        if (options.data.length || isObject(options.data)) {\r\n            // Import CSV\r\n            if (options.type === \"csv\") {\r\n                obj = {\r\n                    data: []\r\n                }\r\n\r\n                // Split the string into rows\r\n                const rows = options.data.split(options.lineDelimiter)\r\n\r\n                if (rows.length) {\r\n\r\n                    if (options.headings) {\r\n                        obj.headings = rows[0].split(options.columnDelimiter)\r\n\r\n                        rows.shift()\r\n                    }\r\n\r\n                    each(rows, (row, i) => {\r\n                        obj.data[i] = []\r\n\r\n                        // Split the rows into values\r\n                        const values = row.split(options.columnDelimiter)\r\n\r\n                        if (values.length) {\r\n                            each(values, value => {\r\n                                obj.data[i].push(value)\r\n                            })\r\n                        }\r\n                    })\r\n                }\r\n            } else if (options.type === \"json\") {\r\n                const json = isJson(options.data)\r\n\r\n                // Valid JSON string\r\n                if (json) {\r\n                    obj = {\r\n                        headings: [],\r\n                        data: []\r\n                    }\r\n\r\n                    each(json, (data, i) => {\r\n                        obj.data[i] = []\r\n                        each(data, (value, column) => {\r\n                            if (!obj.headings.includes(column)) {\r\n                                obj.headings.push(column)\r\n                            }\r\n\r\n                            obj.data[i].push(value)\r\n                        })\r\n                    })\r\n                } else {\r\n                    // console.warn(\"That's not valid JSON!\")\r\n                }\r\n            }\r\n\r\n            if (isObject(options.data)) {\r\n                obj = options.data\r\n            }\r\n\r\n            if (obj) {\r\n                // Add the rows\r\n                this.insert(obj)\r\n            }\r\n        }\r\n\r\n        return false\r\n    }\r\n\r\n    /**\r\n     * Print the table\r\n     * @return {void}\r\n     */\r\n    print() {\r\n        const headings = this.activeHeadings\r\n        const rows = this.activeRows\r\n        const table = createElement(\"table\")\r\n        const thead = createElement(\"thead\")\r\n        const tbody = createElement(\"tbody\")\r\n\r\n        const tr = createElement(\"tr\")\r\n        each(headings, th => {\r\n            tr.appendChild(\r\n                createElement(\"th\", {\r\n                    html: th.textContent\r\n                })\r\n            )\r\n        })\r\n\r\n        thead.appendChild(tr)\r\n\r\n        each(rows, row => {\r\n            const tr = createElement(\"tr\")\r\n            each(row.cells, cell => {\r\n                tr.appendChild(\r\n                    createElement(\"td\", {\r\n                        html: cell.textContent\r\n                    })\r\n                )\r\n            })\r\n            tbody.appendChild(tr)\r\n        })\r\n\r\n        table.appendChild(thead)\r\n        table.appendChild(tbody)\r\n\r\n        // Open new window\r\n        const w = window.open()\r\n\r\n        // Append the table to the body\r\n        w.document.body.appendChild(table)\r\n\r\n        // Print\r\n        w.print()\r\n    }\r\n\r\n    /**\r\n     * Show a message in the table\r\n     * @param {string} message\r\n     */\r\n    setMessage(message) {\r\n        let colspan = 1\r\n\r\n        if (this.hasRows) {\r\n            colspan = this.data[0].cells.length\r\n        } else if (this.activeHeadings.length) {\r\n            colspan = this.activeHeadings.length\r\n        }\r\n\r\n        classList.add(this.wrapper, \"dataTable-empty\")\r\n\r\n        if (this.label) {\r\n            this.label.innerHTML = \"\"\r\n        }\r\n        this.totalPages = 0\r\n        this.render(\"pager\")\r\n\r\n        this.clear(\r\n            createElement(\"tr\", {\r\n                html: `<td class=\"dataTables-empty\" colspan=\"${colspan}\">${message}</td>`\r\n            })\r\n        )\r\n    }\r\n\r\n    /**\r\n     * Columns API access\r\n     * @return {Object} new Columns instance\r\n     */\r\n    columns(columns) {\r\n        return new Columns(this, columns)\r\n    }\r\n\r\n    /**\r\n     * Rows API access\r\n     * @return {Object} new Rows instance\r\n     */\r\n    rows(rows) {\r\n        return new Rows(this, rows)\r\n    }\r\n\r\n    /**\r\n     * Add custom event listener\r\n     * @param  {String} event\r\n     * @param  {Function} callback\r\n     * @return {Void}\r\n     */\r\n    on(event, callback) {\r\n        this.events = this.events || {}\r\n        this.events[event] = this.events[event] || []\r\n        this.events[event].push(callback)\r\n    }\r\n\r\n    /**\r\n     * Remove custom event listener\r\n     * @param  {String} event\r\n     * @param  {Function} callback\r\n     * @return {Void}\r\n     */\r\n    off(event, callback) {\r\n        this.events = this.events || {}\r\n        if (event in this.events === false) return\r\n        this.events[event].splice(this.events[event].indexOf(callback), 1)\r\n    }\r\n\r\n    /**\r\n     * Fire custom event\r\n     * @param  {String} event\r\n     * @return {Void}\r\n     */\r\n    emit(event) {\r\n        this.events = this.events || {}\r\n        if (event in this.events === false) return\r\n        for (let i = 0; i < this.events[event].length; i++) {\r\n            this.events[event][i].apply(this, Array.prototype.slice.call(arguments, 1))\r\n        }\r\n    }\r\n}\r\n"],"names":["isObject","val","Object","prototype","toString","call","isArray","Array","isJson","str","let","t","JSON","parse","e","extend","src","props","const","prop","hasOwnProperty","each","arr","fn","scope","n","length","on","el","addEventListener","createElement","a","b","d","document","innerHTML","setAttribute","flush","ie","NodeList","hasChildNodes","removeChild","firstChild","button","c","p","class","html","classList","add","s","contains","className","trim","remove","replace","RegExp","split","join","match","sortItems","f","value","g","h","i","truncate","ellipsis","j","k","l","push","children","getAttribute","Rows","dt","rows","this","build","row","tr","headings","map","td","data","appendChild","render","hasRows","update","columns","rebuild","select","sort","splice","dataIndex","Columns","swap","cols","x","y","order","cell","temp","column","cloneNode","originalCellIndex","sortable","hiddenColumns","includes","searchIndex","undefined","cells","activeHeadings","activeRows","hide","show","index","indexOf","visible","th","isNaN","insert","heading","hiddenHeader","nodeName","type","format","renderHeader","dir","init","hasHeadings","sorting","alpha","numeric","parseFunction","content","waitFor","hasAttribute","then","ref","parseDate","Promise","all","top","btm","from","forEach","innerText","num","parseFloat","Number","lastTh","concat","indexes","v","searchData","this$1","emit","cellIndex","dataToTable","thead","tbody","options","col","Error","table","tHead","tBodies","defaultConfig","searchable","paging","perPage","perPageSelect","nextPrev","firstLast","prevText","nextText","firstText","lastText","ellipsisText","ascText","descText","truncatePager","pagerDelta","scrollY","fixedColumns","fixedHeight","header","footer","labels","placeholder","noRows","info","layout","bottom","DataTable","initialized","querySelector","initialLayout","initialSortable","isIE","test","navigator","userAgent","currentPage","onFirstPage","columnRenderers","selectedColumns","setTimeout","plugins","plugin","enabled","renderPage","renderPager","o","template","ajax","xhr","XMLHttpRequest","readyState","status","obj","load","responseText","import","setColumns","open","url","send","body","head","foot","tFoot","insertBefore","slice","wrapper","wrap","selected","option","Option","outerHTML","form","w","paginator","container","pagers","querySelectorAll","label","parentNode","replaceChild","rect","getBoundingClientRect","fixHeight","fixColumns","bindEvents","totalPages","frag","createDocumentFragment","pages","clear","onLastPage","lastPage","setMessage","items","current","searching","string","prev","next","onlastPage","pager","links","textContent","firstElementChild","link","href","that","selector","parseInt","input","search","target","toLowerCase","page","preventDefault","window","renderer","hidden","destroy","paginate","filter","hd","columnWidths","style","height","headerTable","width","ow","offsetWidth","paddingTop","paddingBottom","border","parentElement","headercontainer","thd","paddingRight","clientWidth","scrollHeight","clientHeight","overflowY","r","widths","query","idx","inArray","reduce","bool","word","sortColumn","direction","refresh","parent","export","headers","download","skipColumn","lineDelimiter","columnDelimiter","tableName","replacer","space","selection","text","substring","stringify","filename","encodeURI","click","shift","values","json","print","message","colspan","event","callback","events","off","apply","arguments"],"mappings":"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"}